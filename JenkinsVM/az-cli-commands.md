# Create Resource Group
az group create --name YogFeb24_RG_Jenkins --location eastus

# Create Ubuntu VM (Standard) 
az vm create --resource-group YogFeb24_RG_Jenkins --name jenkins-get-started-vm --image UbuntuLTS --admin-username "yogendra" --generate-ssh-keys --public-ip-sku Standard --custom-data cloud-init-jenkins.txt

# Validate if VM is created
az vm list -d -o table --query "[?name=='jenkins-get-started-vm']"

# Set 8080 port on VM
az vm open-port --resource-group YogFeb24_RG_Jenkins --name jenkins-get-started-vm  --port 8080 --priority 1010

# Get IP Address of Jenkins VM
az vm show --resource-group YogFeb24_RG_Jenkins --name jenkins-get-started-vm -d --query [publicIps] --output tsv
 --> Example: 20.81.16.84

## Setting up JEnkins Server ##
# 1> Login to Jenkins VM 
     ssh yogendra@20.81.16.84
# 2> Check Jenkins Status 
     service jenkins status     
# 3> Get the autogenerated Jenkins password.
     sudo cat /var/lib/jenkins/secrets/initialAdminPassword
     acdcac8d23344433b692717735a9ba1a

## Initial Jenkins Setup
# 1> login
    http://<ip_address>:8080
    Enter password grabbed from "sudo cat /var/lib/jenkins/secrets/initialAdminPassword"
# 2> Install Recommeneded plugin
# 3> Setup Inital Admin User
# 4> Install "Kubernetes" plugin 

## Grab Kubernetes Details
# 1> Login to kubectl 
# 2> Run following command to get kubectl server
    kubectl config view 
    Example: https://devlab1-dns-5ec00224.hcp.centralindia.azmk8s.io:443


